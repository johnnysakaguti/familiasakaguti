<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendário Familiar</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f4f9;
    overflow-x: hidden;
}

/* ================================================= */
/* CONTROLES */
/* ================================================= */
.botoes {
    display: flex;
    justify-content: center;
    gap: 8px;
    padding: 10px;
}

button {
    padding: 8px 12px;
    border: none;
    border-radius: 6px;
    background: #1a73e8;
    color: white;
    font-size: 0.85rem;
    cursor: pointer;
}

/* ================================================= */
/* TÍTULO */
/* ================================================= */
.titulo {
    text-align: center;
    padding: 10px;
    background: #202124;
    color: white;
    font-size: 1.2rem;
}

/* ================================================= */
/* CALENDÁRIO */
/* ================================================= */
.calendario-wrapper {
    position: relative;
    overflow: hidden;
}

.calendario {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    width: 100vw;
    gap: 1px;
    background: #dadce0;
    touch-action: pan-y;
}

/* Cabeçalho */
.header {
    background: #f1f3f4;
    text-align: center;
    padding: 6px 2px;
    font-size: 0.7rem;
    font-weight: bold;
}

/* Dia */
.dia {
    background: white;
    min-height: 9vh;
    padding: 4px;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 0.75rem;
}

/* Hoje */
.hoje {
    border: 2px solid #1a73e8;
}

/* ================================================= */
/* ANIMAÇÕES (Material Motion inspired) */
/* ================================================= */
.slide-left {
    animation: slideLeft 260ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

.slide-right {
    animation: slideRight 260ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

@keyframes slideLeft {
    from { transform: translateX(100%); opacity: 0.8; }
    to   { transform: translateX(0); opacity: 1; }
}

@keyframes slideRight {
    from { transform: translateX(-100%); opacity: 0.8; }
    to   { transform: translateX(0); opacity: 1; }
}
</style>
</head>

<body>

<div class="botoes">
    <button id="prev">◀</button>
    <button id="today">Hoje</button>
    <button id="next">▶</button>
</div>

<div class="titulo" id="titulo"></div>

<div class="calendario-wrapper">
    <div class="calendario" id="calendario"></div>
</div>

<script>
let hoje = new Date();
let mes = hoje.getMonth();
let ano = hoje.getFullYear();

/* ================================================= */
/* UTIL */
/* ================================================= */
function atualizarTitulo() {
    const meses = ["Janeiro","Fevereiro","Março","Abril","Maio","Junho",
                   "Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];
    titulo.innerText = `${meses[mes]} de ${ano}`;
}

/* ================================================= */
/* CALENDÁRIO */
/* ================================================= */
function criarCalendario(animacao = null) {
    calendario.innerHTML = "";
    calendario.classList.remove("slide-left","slide-right");
    if (animacao) calendario.classList.add(animacao);

    ["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].forEach(d => {
        const h = document.createElement("div");
        h.className = "header";
        h.innerText = d;
        calendario.appendChild(h);
    });

    const primeiro = new Date(ano, mes, 1).getDay();
    const total = new Date(ano, mes+1, 0).getDate();

    for (let i=0;i<primeiro;i++) calendario.appendChild(document.createElement("div"));

    for (let d=1; d<=total; d++) {
        const dia = document.createElement("div");
        dia.className = "dia";

        if (
            d === hoje.getDate() &&
            mes === hoje.getMonth() &&
            ano === hoje.getFullYear()
        ) dia.classList.add("hoje");

        dia.innerHTML = `<strong>${d}</strong>`;
        calendario.appendChild(dia);
    }

    atualizarTitulo();
}

/* ================================================= */
/* NAVEGAÇÃO */
/* ================================================= */
function proximoMes(anim=true) {
    mes++;
    if (mes > 11) { mes = 0; ano++; }
    criarCalendario(anim ? "slide-left" : null);
}

function mesAnterior(anim=true) {
    mes--;
    if (mes < 0) { mes = 11; ano--; }
    criarCalendario(anim ? "slide-right" : null);
}

/* BOTÕES */
prev.onclick = () => mesAnterior();
next.onclick = () => proximoMes();
today.onclick = () => {
    mes = hoje.getMonth();
    ano = hoje.getFullYear();
    criarCalendario();
};

/* ================================================= */
/* SWIPE */
/* ================================================= */
let startX = 0;

calendario.addEventListener("pointerdown", e => {
    startX = e.clientX;
});

calendario.addEventListener("pointerup", e => {
    const deltaX = e.clientX - startX;
    if (Math.abs(deltaX) > 60) {
        deltaX < 0 ? proximoMes() : mesAnterior();
    }
});

/* ORIENTAÇÃO / RESIZE */
window.addEventListener("resize", () => criarCalendario());
window.addEventListener("orientationchange", () => criarCalendario());

/* INIT */
criarCalendario();
</script>

</body>
</html>
